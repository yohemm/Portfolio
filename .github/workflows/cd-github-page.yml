name: Create Github page

on:
  push:
    branches:
    - master
    - v2
  pull_request:
    branches:
    - master
    - v2

jobs:
  #### set-up github-page
  deploy-github-page:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      pages: write
      id-token: write
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      # utilise node
      - name: Use Node.js  22
        uses: actions/setup-node@v4
        with:
          node-version: 22
        # execute des commandes
      - name: Clean install NPM
        run: npm ci

      - name: Build App
        run: npm run build

      - id: build-publish
        uses: bitovi/github-actions-react-to-github-pages@v1.2.4
        with:
          path: build # change to your build folder
